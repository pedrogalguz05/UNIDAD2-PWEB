<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALUMNOS UPT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .tabla{
            width: 80%;
            height: auto;
            border: 3px solid #000;
            border-collapse: collapse;
            text-align: left;
            margin-left: 10%;
            margin-right: 10%;
            background-color: ghostwhite;
            
        }
        .tabla td{            
            border-bottom: rgb(0, 15, 20) 1px;
            
        }
        .tabla th{
            color: rgb(0, 0, 0);
            text-align: center;
        }
        .text{
            text-align: center;
        }
        .text{
            text-align: center;
        }
        .button{
            background-color: #94A3A2;
        }
    </style>
</head>
<body style="background-color: #B5CCFE">
    <h1 class="text">ALUMNOS UPT</h1>
    <h2 class="text">REGISTRO DE ESTUDIANTES</h2>
    <input type="text" name="matricula" placeholder="Matricula" id="matricula" style="margin-left: 10PX;">
    <input type="text" name="nombre" placeholder="Nombre" id="nombre"  style="margin-left: 10PX;">
    <input type="text" name="apellidos" placeholder="Apellidos" id="apellidos" style="margin-left: 10PX;">
    <input type="text" name="edad" placeholder="Edad" id="edad" style="margin-left: 10PX;">
    <select name="sexo" id="sexo" style="margin-left: 10PX;">
        <option value="" >Sexo</option>
        <option value="M" >Masculino</option>
        <option value="F" >Femenino</option>
    </select>
    <input type="text" name="carrera" placeholder="Carrera" id="carrera" style="margin-left: 10PX;">
    <input type="text" name="Grupo" placeholder="Grupo" id="grupo" style="margin-left: 10PX;">
    <input type="text" name="nCalificacion" placeholder="Calificacion" id="calificacion" style="margin-left: 10PX;">
    <br>
    <br>
    <button id="registrar" onclick="agregar(this)" style="margin-left: 10PX;" class="button">REGISTRAR</button>

    <table class="tabla">
        <thead>
            <tr>
                <h3 class="text">LISTADO DE ESTUDIANTES</h3>
                <th>Matricula</th>
                <th>Nombre</th>
                <th>Apellidos</th>
                <th>Edad</th>
                <th>Sexo</th>
                <th>Carrera</th>
                <th>Grupo</th>
                <th>Calificacion</th>
            </tr>
        </thead>
        <tbody id="lista">
            
        </tbody>
    </table>

    <br>
    <h4 style="margin-left: 10PX;">ACCIONES</h4>
    <button id="sumara" onclick="sumarAlumnos(this)" style="margin-left: 10PX;" class="button">Cantidad de alumnos</button>
    <br>
    <br>
    <button id="sumarg" onclick="sumarGeneros(this)" style="margin-left: 10PX;" class="button">Cantidad de alumnos por sexo</button>
    <br>
    <br>
    <button id="media" onclick="mediacalificacion(this)" style="margin-left: 10PX;" class="button">Media Calificaciones</button>
    <br>
    <br>
    <button id="buscaralum" onclick="buscaralumno(this)" style="margin-left: 10PX;" class="button">Buscar Alumno por matricula</button>
    <br>
    <br>
    <button id="conjuntoa" onclick="conjuntoalumnos(this)" style="margin-left: 10PX;" class="button">Conjunto de alumnos</button>
    <br>
    <br>
    <button id="grupos" onclick="grupos(this)" style="margin-left: 10PX;" class="button">Mostrar grupo</button>
</body>

<script>
    //agregar alumnos
    function agregar(){
        var matricula = document.getElementById('matricula').value;
        var nombre = document.getElementById('nombre').value;
        var apellido = document.getElementById('apellidos').value;
        var edad = document.getElementById('edad').value;
        var sexo = document.getElementById('sexo').value;
        var carrera = document.getElementById('carrera').value;
        var grupo = document.getElementById('grupo').value;
        var calificacion = document.getElementById('calificacion').value;
        var lista = document.getElementById('lista');
        var tr = document.createElement('tr');
        var td = document.createElement('td');
        var td2 = document.createElement('td');
        var td3 = document.createElement('td');
        var td4 = document.createElement('td');
        var td5 = document.createElement('td');
        var td6 = document.createElement('td');
        var td7 = document.createElement('td');
        var td8 = document.createElement('td');
        td.innerHTML = matricula;
        td2.innerHTML = nombre;
        td3.innerHTML = apellido;
        td4.innerHTML = edad;
        td5.innerHTML = sexo;
        td6.innerHTML = carrera;
        td7.innerHTML = grupo;
        td8.innerHTML = calificacion;
        tr.appendChild(td);
        tr.appendChild(td2);
        tr.appendChild(td3);
        tr.appendChild(td4);
        tr.appendChild(td5);
        tr.appendChild(td6);
        tr.appendChild(td7);
        tr.appendChild(td8);
        lista.appendChild(tr);
    }//no mover ya quedo

    //Cantidad de alumnos
    function sumarAlumnos(elementos){
        var lista = document.getElementById('lista');
        var cantidad = lista.getElementsByTagName('tr').length;
        alert("Cantidad de alumnos: " + cantidad);
    } //no mover ya quedo

    //Cantidad de alumnos por sexo
    function sumarGeneros(elementos){
        var lista = document.getElementById('lista');
        var cantidad = lista.getElementsByTagName('tr').length;
        var masculino = 0;
        var femenino = 0;
        for(var i = 0; i < cantidad; i++){
            var sexo = lista.getElementsByTagName('tr')[i].getElementsByTagName('td')[4].innerHTML;
            if(sexo == "M"){
                masculino++;
            }else{
                femenino++;
            }
        }
        alert("Cantidad de alumnos masculinos: " + masculino + 
        " Cantidad de alumnos femeninos: " + femenino);
    } //no mover ya quedo
    
    //Media de calificaciones
    function mediacalificacion(){
        var lista = document.getElementById('lista');
        var suma = 0;
        for(var i = 0; i < lista.rows.length; i++){
            suma += parseInt(lista.rows[i].cells[7].innerHTML);
        }
        var media = suma / lista.rows.length;
        alert("La media de calificacion es: " + media);
        //- no mover esta ya quedo :)
    }
    
    //Buscar alumno por matricula
    function buscaralumno(elementos){
        var lista = document.getElementById('lista');
        var matricula = prompt("Ingrese la matricula del alumno");
        for(var i = 0; i < lista.rows.length; i++){
            if(lista.rows[i].cells[0].innerHTML == matricula){
                alert("El alumno con matricula " + matricula + " esta en la posicion " + i);
            }
        }
    } //no mover ya quedo

    //Conjunto de alumnos
    function conjuntoalumnos(){
        var lista = document.getElementById('lista');
        var conjunto = [];
        for (var i = 0; i < lista.rows.length; i++) {
            conjunto.push(lista.rows[i].cells[0].innerHTML);
        }
        alert("Conjunto de alumnos: " + conjunto);
        sumarAlumnos();
        sumarGeneros();
        mediacalificacion();
    }//no mover ya quedo

    //Mostrar grupo
    function grupos(){
        var lista = document.getElementById('lista');
        var grupo = prompt("Ingrese el grupo");
        var conjunto = [];
        for (var i = 0; i < lista.rows.length; i++) {
            if(lista.rows[i].cells[6].innerHTML == grupo){
                conjunto.push(lista.rows[i].cells[0].innerHTML);
            }
        }
        alert("Conjunto de alumnos del grupo " + grupo + ": " + conjunto);
        sumarAlumnos(conjunto);
        sumarGeneros(conjunto);
        mediacalificacion(conjunto);
    }//no mover ya quedo
</Script>
</html>